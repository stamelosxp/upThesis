<div class="timeline-content">
    <div class="info-section">
        <div class="content-group">
            <p class="group-header">Ιστορικό Καταστάσεων</p>
            <% if(thesis.temporaryAssignmentDate){ %>
                <div class="info-member">
                    <p>Προσωρινή Ανάθεση</p>
                    <p class="info-badge"><%= formatDate(thesis.temporaryAssignmentDate) %></p>
                </div>
            <% } %>

            <% if(thesis.officialAssignmentDate){ %>
                <div class="info-member">
                    <p>Επίσημη Ανάθεση</p>
                    <p class="info-badge"><%= formatDate(thesis.officialAssignmentDate) %></p>
                </div>
            <% } %>

            <% if(thesis.underReviewDate){ %>
                <div class="info-member">
                    <p>Υπό Εξέταση</p>
                    <p class="info-badge"><%= formatDate(thesis.underReviewDate) %></p>
                </div>
            <% } %>

            <%
            let showPresentationEntry = false;
            if (thesis.presentationDate) {
                const _pres = new Date(thesis.presentationDate);
                if (!isNaN(_pres) && _pres.getTime() <= Date.now()) showPresentationEntry = true;
            }
            %>
            <% if(showPresentationEntry){ %>
                <div class="info-member">
                    <p>Παρουσίαση</p>
                    <p class="info-badge"><%= formatDate(thesis.presentationDate) %></p>
                </div>
            <% } %>

            <% if(thesis.completedDate){ %>
                <div class="info-member">
                    <p>Ολοκλήρωση</p>
                    <p class="info-badge"><%= formatDate(thesis.completedDate) %></p>
                </div>
            <% } %>

            <% if(thesis.cancelledDate){ %>
                <div class="info-member">
                    <p>Ακύρωση Ανάθεσης</p>
                    <p class="info-badge"><%= formatDate(thesis.cancelledDate) %></p>
                </div>
            <% } %>
        </div>

        <% if ((userThesisRole === "supervisor" || userThesisRole === 'student') && thesis.status !== 'completed' && thesis.status !== 'cancelled') { %>
            <% if(thesis.status === 'pending' && (!thesis.professors?.memberA?.id || !thesis.professors?.memberB?.id)) { %>
                <div class="content-group pending-invitations">
                    <p class="group-header invite">Εκκρεμείς Προσκλήσεις
                        <button class="standard-button" id="invite-professor-button">Πρόσκληση</button>
                    </p>
                    <ul class="invitation-items pending-list">
                    </ul>
                </div>

                <div class="content-group completed-invitations">
                    <p class="group-header invite">Ολοκληρωμένες Προσκλήσεις</p>
                    <ul class="invitation-items completed-list">

                    </ul>
                </div>

            <% } else { %>
                <div class="content-group completed-invitations">
                    <p class="group-header invite">Ιστορικό Προσκλησεων</p>
                    <ul class="invitation-items completed-list"></ul>
                </div>
            <% } %>

            <% if(thesis.status === 'pending'){ %>
                <%- include('../invite_professor_modal') %>
            <% } %>
        <% } %>
    </div>
</div>
